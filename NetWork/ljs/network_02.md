네트워크 3

TCP의 연결성립과정 : 3-웨이 핸드쉐이크


SYN 단계 

1. 서버에 클라이언트의 ISN을 담아 SYN 보냄

2. SYN + ACK 단계

서버의 ISN을 보내고 승인번호로 클라이언트늬 ISN + 1을 보냄

3. ACK 단계

2단계의 승인번호를 담아 ACK를 서버에 보냄

​

ISN : TCP 기반 데이터 통신에서 각각의 새 연결에 할당된 고유한 32비트 시퀀스 번호

SYN : synchronization의 약자, 연결 요청 플래그

ACK : acknowledgement의 약자, 응답 플래그

​

이러한 연결 설정 과정으로 인해 TCP는 신뢰성이 있다고 말한다

​

TCP의 연결해제과정 : 4-웨이 핸드쉐이크


1단계

클라이언트가 연결을 끊을려고 할 때 FIN을 보냄

그리고 클라이언트는 FIN_WAIT_1 상태로 바뀜

​

2단계

서버는 클라이언트로 ACK를 보내고 CLOSE_WAIT상태가 됨

클라이언트는 ACK를 받으면 FIN_WAIT_2의 상태가 됨

​

3단계

서버는 LAST_ACK상태가 되고 일정 시간 후에 클라이언트에 FIN을 보냄

​

4단계

클라이언트는 TIME_WAIT상태가 되고 서버로 ack를 보내 

서버는 CLOSED상태가 됨

클라이언트는 TIME_WAIT으로 설정된 시간을 대기한 후에 연결이 닫힘

​

일정 시간 후 CLOSE되는 이유 (TIME_WAIT)

지연 패킷을 받기 위해 : 데이터의 무결성을 지키게 해줌

연결이 올바르게 닫혔는지 보장하기 위해 : 서버와 클라이언트 모두 CLOSED여야 다음 연결 성립 가능

라우팅(routing)

네트워크에서 데이터(패킷)를 보낼 때 최적의 경로를 선택하는 과정

이를 라우터가 수행

​

라우터

네트워크 사이에서 데이터를 전달하는 장치, 서로 다른 네트워크에 연결

최적의 경로를 결정하고 경로가 결정되면 해당 경로로 데이터를 넘겨주는 일(라우팅) 수행

​

라우팅 테이블

IP주소를 기반으로 라우터의 위치를 저장한 테이블 또는 데이터베이스

네트워크에 대한 정보와 해당 네트워크에 연결하는 방법


구성요소

네트워크 대상 : 목적지 네트워크의 IP주소

서브넷 마스크 : 대상 주소를 설명할 때 쓰이는 값

게이트웨이 : 연결되어 있는 홉, 다음 IP주소

인터페이스 : 게이트웨이로 가기 위해 거치는 장치

메트릭 : 우선순위, 최적의 경로가 선택되도록 참고하는 값, 일반적으로 홉 수가 들어감

​

게이트웨이 : 프로토콜 변환기라고도 하며 네트워크와 네트워크를 잇는 장치

홉 : 출발지와 목적지 사이에 위치한 장치

홉 카운트 : 출발지와 목적지 사이에서 통과해야하는 홉의 개수 → 적은게 좋음

​

​